<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>30-Second Assessment - Silver Path Network</title>
    <meta name="description" content="Take our quick 30-second assessment to find the perfect final expense insurance coverage for your needs.">
    <link rel="stylesheet" href="styles.css">
    <style>
        .assessment-container {
            max-width: 900px;
            margin: 0 auto;
            padding: 100px 20px 60px;
        }
        
        .assessment-intro {
            text-align: center;
            margin-bottom: 30px;
            background: white;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        
        .assessment-intro h1 {
            color: #1B365D;
            font-size: 42px;
            margin-bottom: 15px;
            font-weight: bold;
        }
        
        .assessment-intro .time-badge {
            background: #ffd700;
            color: #1B365D;
            padding: 8px 20px;
            border-radius: 25px;
            font-weight: bold;
            display: inline-block;
            margin-bottom: 20px;
            font-size: 16px;
        }
        
        .assessment-intro p {
            font-size: 20px;
            color: #666;
            margin-bottom: 30px;
            line-height: 1.6;
        }
        
        .intro-features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 25px;
            margin: 30px 0;
        }
        
        .intro-feature {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 16px;
            color: #1B365D;
            font-weight: 500;
        }
        
        .intro-feature .icon {
            font-size: 20px;
            color: #28a745;
        }
        
        .progress-section {
            background: white;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }
        
        .progress-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .progress-text {
            font-size: 18px;
            font-weight: 600;
            color: #1B365D;
        }
        
        .progress-counter {
            background: #f0f4f8;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: bold;
            color: #1B365D;
        }
        
        .progress-container {
            background: #f0f0f0;
            border-radius: 25px;
            height: 12px;
            overflow: hidden;
            position: relative;
        }
        
        .progress-bar {
            background: linear-gradient(90deg, #ffd700, #ffed4a);
            height: 100%;
            border-radius: 25px;
            width: 0%;
            transition: width 0.6s ease;
            position: relative;
        }
        
        .progress-bar::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            animation: shimmer 2s infinite;
        }
        
        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }
        
        .question-container {
            background: white;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            margin-bottom: 20px;
            min-height: 320px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        
        .question-image {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .question-image img {
            max-width: 150px;
            height: 100px;
            object-fit: cover;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .question h2 {
            color: #1B365D;
            font-size: 24px;
            margin-bottom: 25px;
            text-align: center;
            line-height: 1.3;
        }
        
        .question-options {
            display: grid;
            gap: 15px;
            max-width: 600px;
            margin: 0 auto;
        }
        
        .option {
            background: #f8f9fa;
            border: 3px solid #e1e1e1;
            border-radius: 15px;
            padding: 20px 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            font-size: 18px;
            font-weight: 500;
            position: relative;
            overflow: hidden;
        }
        
        .option::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,215,0,0.1), transparent);
            transition: left 0.5s ease;
        }
        
        .option:hover {
            border-color: #ffd700;
            background: #fffbf0;
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }
        
        .option:hover::before {
            left: 100%;
        }
        
        .option.selected {
            border-color: #1B365D;
            background: linear-gradient(135deg, #f0f4f8, #e8f2ff);
            color: #1B365D;
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(27, 54, 93, 0.2);
        }
        
        .option.selected::after {
            content: '‚úì';
            position: absolute;
            top: 10px;
            right: 15px;
            font-size: 20px;
            color: #28a745;
            font-weight: bold;
        }
        
        .question-nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 20px;
        }
        
        .quiz-btn {
            background: #1B365D;
            color: white;
            border: none;
            padding: 18px 35px;
            border-radius: 12px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            min-width: 120px;
        }
        
        .quiz-btn:hover:not(:disabled) {
            background: #2d4a73;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(27, 54, 93, 0.3);
        }
        
        .quiz-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        .quiz-btn.secondary {
            background: transparent;
            color: #1B365D;
            border: 2px solid #1B365D;
        }
        
        .quiz-btn.secondary:hover:not(:disabled) {
            background: #1B365D;
            color: white;
        }
        
        .results-container {
            display: none;
            text-align: center;
            background: white;
            padding: 50px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        
        .results-container h2 {
            color: #1B365D;
            font-size: 36px;
            margin-bottom: 20px;
        }
        
        .results-image {
            margin: 30px 0;
        }
        
        .results-image img {
            max-width: 300px;
            border-radius: 15px;
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }
        
        .coverage-recommendation {
            background: linear-gradient(135deg, #f0f4f8, #e8f2ff);
            padding: 40px;
            border-radius: 20px;
            margin: 40px 0;
            border: 3px solid #1B365D;
        }
        
        .recommended-amount {
            font-size: 48px;
            font-weight: bold;
            color: #1B365D;
            margin-bottom: 10px;
        }
        
        .estimated-cost {
            font-size: 28px;
            color: #28a745;
            margin-bottom: 20px;
            font-weight: bold;
        }
        
        .recommendation-details {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 25px;
            margin: 30px 0;
        }
        
        .detail-item {
            background: white;
            padding: 20px;
            border-radius: 12px;
            border-left: 4px solid #ffd700;
        }
        
        .detail-item h4 {
            color: #1B365D;
            margin-bottom: 10px;
            font-size: 16px;
        }
        
        .detail-item p {
            color: #666;
            font-size: 14px;
            line-height: 1.5;
        }
        
        @media (max-width: 768px) {
            .assessment-container {
                padding: 100px 15px 60px;
            }
            
            .question-container {
                padding: 30px 20px;
                min-height: 350px;
            }
            
            .assessment-intro h1 {
                font-size: 32px;
            }
            
            .question h2 {
                font-size: 24px;
            }
            
            .question-nav {
                flex-direction: column;
                gap: 15px;
            }
            
            .quiz-btn {
                width: 100%;
            }
            
            .intro-features {
                grid-template-columns: 1fr;
                gap: 15px;
            }
        }
    </style>
</head>
<body>
    <header>
        <nav class="navbar">
            <div class="nav-container">
                <div class="nav-logo">
                    <img src="silver path logo 2.png" alt="Silver Path Network Logo" style="height: 40px; width: auto; margin-right: 10px; vertical-align: middle;">
                    <a href="index.html" style="color: #1B365D; font-size: 24px; font-weight: bold; text-decoration: none; vertical-align: middle;">SilverPath Network</a>
                </div>
                <ul class="nav-menu">
                    <li class="nav-item"><a href="index.html" class="nav-link">Home</a></li>
                    <li class="nav-item"><a href="assessment.html" class="nav-link">Find Coverage</a></li>
                    <li class="nav-item"><a href="about.html" class="nav-link">About</a></li>
                    <li class="nav-item"><a href="blog.html" class="nav-link">Resources</a></li>
                    <li class="nav-item"><a href="testimonials.html" class="nav-link">Reviews</a></li>
                    <li class="nav-item"><a href="index.html#contact" class="nav-link">Contact</a></li>
                </ul>
                <div class="header-phone">
                    <span>Call Now: (833) 738-2671</span>
                </div>
                <div class="hamburger">
                    <span class="bar"></span>
                    <span class="bar"></span>
                    <span class="bar"></span>
                </div>
            </div>
        </nav>
    </header>

    <main>
        <div class="assessment-container">
            <!-- Introduction Section -->
            <div id="introSection" class="assessment-intro">
                <div class="time-badge">30-Second Assessment</div>
                <h1>Find Your Perfect Coverage</h1>
                <p>Answer a few quick questions and we'll match you with the best final expense insurance options for your needs and budget.</p>
                
                <div class="intro-features">
                    <div class="intro-feature">
                        <span class="icon">‚úì</span>
                        <span>No medical exam required</span>
                    </div>
                    <div class="intro-feature">
                        <span class="icon">‚úì</span>
                        <span>Guaranteed acceptance available</span>
                    </div>
                    <div class="intro-feature">
                        <span class="icon">‚úì</span>
                        <span>Free quotes, no obligation</span>
                    </div>
                    <div class="intro-feature">
                        <span class="icon">‚úì</span>
                        <span>Licensed agents standing by</span>
                    </div>
                </div>
                
                <button class="quiz-btn" onclick="startAssessment()" style="font-size: 20px; padding: 20px 40px;">
                    Start My Assessment
                </button>
            </div>

            <!-- Progress Section -->
            <div id="progressSection" class="progress-section" style="display: none;">
                <div class="progress-header">
                    <div class="progress-text">Finding your perfect coverage...</div>
                    <div class="progress-counter">
                        Question <span id="currentQ">1</span> of <span id="totalQ">6</span>
                    </div>
                </div>
                <div class="progress-container">
                    <div class="progress-bar" id="progressBar"></div>
                </div>
            </div>

            <!-- Question Container -->
            <div id="questionContainer" class="question-container" style="display: none;">
                <div class="question-image" id="questionImage">
                    <!-- Images will be loaded here -->
                </div>
                <div class="question" id="questionContent">
                    <!-- Questions will be loaded here -->
                </div>
                <div class="question-options" id="questionOptions">
                    <!-- Options will be loaded here -->
                </div>
            </div>

            <!-- Navigation -->
            <div id="navigationSection" class="question-nav" style="display: none;">
                <button id="prevBtn" class="quiz-btn secondary" onclick="previousQuestion()" style="display: none;">
                    ‚Üê Previous
                </button>
                <div></div>
                <button id="nextBtn" class="quiz-btn" onclick="nextQuestion()" disabled>
                    Next ‚Üí
                </button>
            </div>

            <!-- Contact Form -->
            <div id="contactFormContainer" class="question-container" style="display: none;">
                <div class="question">
                    <h2>Get Your Personalized Quote</h2>
                    <p style="color: #666; margin-bottom: 30px;">Just a few more details to get your free quote</p>
                </div>
                <form id="contactForm" style="max-width: 500px; margin: 0 auto;">
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
                        <div class="form-group">
                            <label style="display: block; margin-bottom: 5px; font-weight: bold; color: #1B365D;">First Name</label>
                            <input type="text" id="firstName" required style="width: 100%; padding: 15px; border: 2px solid #e1e1e1; border-radius: 8px; font-size: 16px;">
                        </div>
                        <div class="form-group">
                            <label style="display: block; margin-bottom: 5px; font-weight: bold; color: #1B365D;">Last Name</label>
                            <input type="text" id="lastName" required style="width: 100%; padding: 15px; border: 2px solid #e1e1e1; border-radius: 8px; font-size: 16px;">
                        </div>
                    </div>
                    <div class="form-group" style="margin-bottom: 20px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: bold; color: #1B365D;">Email Address</label>
                        <input type="email" id="email" required style="width: 100%; padding: 15px; border: 2px solid #e1e1e1; border-radius: 8px; font-size: 16px;">
                    </div>
                    <div class="form-group" style="margin-bottom: 30px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: bold; color: #1B365D;">Phone Number</label>
                        <input type="tel" id="phone" required placeholder="(555) 123-4567" style="width: 100%; padding: 15px; border: 2px solid #e1e1e1; border-radius: 8px; font-size: 16px;">
                    </div>
                </form>
            </div>

            <!-- SMS Verification -->
            <div id="smsVerificationContainer" class="question-container" style="display: none;">
                <div class="question">
                    <h2>Verify Your Phone Number</h2>
                    <p style="color: #666; margin-bottom: 30px;">We've sent a verification code to <span id="phoneDisplay"></span></p>
                </div>
                <div style="max-width: 400px; margin: 0 auto;">
                    <div class="form-group" style="margin-bottom: 20px;">
                        <label style="display: block; margin-bottom: 10px; font-weight: bold; color: #1B365D; text-align: center;">Enter 6-Digit Code</label>
                        <input type="text" id="smsCode" maxlength="6" placeholder="123456" style="width: 100%; padding: 20px; border: 2px solid #e1e1e1; border-radius: 8px; font-size: 24px; text-align: center; letter-spacing: 5px;">
                    </div>
                    <div style="text-align: center; margin-bottom: 20px;">
                        <button type="button" id="resendCode" style="background: none; border: none; color: #1B365D; text-decoration: underline; cursor: pointer;">
                            Didn't receive code? Resend
                        </button>
                    </div>
                    <div id="smsError" style="color: #dc3545; text-align: center; margin-bottom: 20px; display: none;"></div>
                </div>
            </div>

            <!-- Results Container -->
            <div id="resultsContainer" class="results-container">
                <h2>üéâ Great News!</h2>
                <div class="results-image">
                    <img src="silverpath website photos/image4.png" alt="Happy couple celebrating their coverage">
                </div>
                
                <p style="font-size: 20px; color: #666; margin-bottom: 30px;">
                    <span id="userNameDisplay">You</span>, you qualify for final expense coverage!
                </p>
                
                <div class="coverage-recommendation">
                    <div class="recommended-amount" id="recommendedAmount">$25,000</div>
                    <div style="font-size: 18px; color: #1B365D; margin-bottom: 15px;">Recommended Coverage Amount</div>
                    <div class="estimated-cost" id="estimatedCost">Starting at $45/month</div>
                    <p style="color: #666;">*Rates may vary based on final underwriting</p>
                </div>
                
                <div class="recommendation-details">
                    <div class="detail-item">
                        <h4>‚úì No Medical Exam</h4>
                        <p>Get approved without invasive medical testing or long waiting periods.</p>
                    </div>
                    <div class="detail-item">
                        <h4>‚úì Fixed Premiums</h4>
                        <p>Your rate will never increase - same payment for life.</p>
                    </div>
                    <div class="detail-item">
                        <h4>‚úì Fast Approval</h4>
                        <p>Many applicants get approved the same day they apply.</p>
                    </div>
                    <div class="detail-item">
                        <h4>‚úì Family Protection</h4>
                        <p>Tax-free benefit helps cover funeral costs and final expenses.</p>
                    </div>
                </div>
                
                <div style="margin-top: 40px;">
                    <h3 style="color: #1B365D; margin-bottom: 25px; font-size: 24px;">A Licensed Agent Will Contact You Within 24 Hours</h3>
                    <p style="color: #666; margin-bottom: 30px;">
                        Your information has been securely submitted. Our team will call you at <span id="verifiedPhone"></span> to discuss your coverage options and answer any questions.
                    </p>
                    <div style="display: flex; gap: 20px; justify-content: center; flex-wrap: wrap;">
                        <a href="tel:8337382671" class="quiz-btn" style="background: #28a745; text-decoration: none; font-size: 20px; padding: 20px 30px;">
                            Call Us Now: (833) 738-2671
                        </a>
                        <a href="index.html" class="quiz-btn secondary" style="text-decoration: none; font-size: 18px; padding: 20px 30px;">
                            Back to Home
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h4 style="color: white;">SilverPath Network</h4>
                    <p style="color: white;">Helping seniors find affordable final expense insurance since 2010.</p>
                    <p style="color: white;">Licensed in all 50 states.</p>
                </div>
                <div class="footer-section">
                    <h4 style="color: white;">Quick Links</h4>
                    <ul>
                        <li><a href="index.html" style="color: white;">Home</a></li>
                        <li><a href="assessment.html" style="color: white;">Find Coverage</a></li>
                        <li><a href="about.html" style="color: white;">About</a></li>
                        <li><a href="blog.html" style="color: white;">Resources</a></li>
                        <li><a href="testimonials.html" style="color: white;">Reviews</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4 style="color: white;">Contact</h4>
                    <p style="color: white;">(833) 738-2671<br>info@silverpathnetwork.com</p>
                </div>
            </div>
            <div class="footer-bottom">
                <p style="color: white;">&copy; 2024 Silver Path Network. All rights reserved. | <a href="privacy-policy.html" style="color: white;">Privacy Policy</a> | <a href="terms.html" style="color: white;">Terms of Service</a></p>
            </div>
        </div>
    </footer>

    <script>
        // Improved quiz data with images and better questions
        const assessmentData = [
            {
                question: "What's your age range?",
                image: "silverpath website photos/image1.png",
                options: [
                    "50-60 years old",
                    "61-70 years old", 
                    "71-80 years old",
                    "Over 80 years old"
                ]
            },
            {
                question: "Do you currently use tobacco products?",
                image: "silverpath website photos/image2.png",
                options: [
                    "No, I don't smoke",
                    "Yes, I smoke occasionally",
                    "Yes, I smoke regularly",
                    "I quit in the last 2 years"
                ]
            },
            {
                question: "What coverage amount interests you most?",
                image: "silverpath website photos/image3.png",
                options: [
                    "$5,000 - $10,000",
                    "$10,000 - $25,000",
                    "$25,000 - $50,000",
                    "More than $50,000"
                ]
            },
            {
                question: "What's your primary goal for this insurance?",
                image: "silverpath website photos/image4.png",
                options: [
                    "Cover funeral and burial costs",
                    "Pay off existing debts",
                    "Leave money for my family",
                    "All of the above"
                ]
            },
            {
                question: "How would you describe your overall health?",
                image: "silverpath website photos/image5.png",
                options: [
                    "Excellent health",
                    "Good health with minor issues",
                    "Fair health with some conditions",
                    "Poor health with major conditions"
                ]
            },
            {
                question: "When would you like coverage to start?",
                image: "silverpath website photos/image6.png",
                options: [
                    "As soon as possible",
                    "Within the next month",
                    "Within the next 3 months",
                    "Just exploring options"
                ]
            }
        ];

        let currentQuestionIndex = 0;
        let assessmentAnswers = {};
        let userContact = {};
        let verificationCode = '';
        let isVerified = false;

        function startAssessment() {
            document.getElementById('introSection').style.display = 'none';
            document.getElementById('progressSection').style.display = 'block';
            document.getElementById('questionContainer').style.display = 'block';
            document.getElementById('navigationSection').style.display = 'flex';
            
            document.getElementById('totalQ').textContent = assessmentData.length;
            displayQuestion();
        }

        function displayQuestion() {
            const question = assessmentData[currentQuestionIndex];
            const questionContent = document.getElementById('questionContent');
            const questionOptions = document.getElementById('questionOptions');
            const questionImage = document.getElementById('questionImage');
            const currentQ = document.getElementById('currentQ');
            const progressBar = document.getElementById('progressBar');
            
            // Update progress
            currentQ.textContent = currentQuestionIndex + 1;
            const progressPercentage = ((currentQuestionIndex + 1) / assessmentData.length) * 100;
            progressBar.style.width = progressPercentage + '%';
            
            // Update question image
            questionImage.innerHTML = `<img src="${question.image}" alt="Question ${currentQuestionIndex + 1}">`;
            
            // Update question content
            questionContent.innerHTML = `<h2>${question.question}</h2>`;
            
            // Create options
            let optionsHTML = '';
            question.options.forEach((option, index) => {
                optionsHTML += `
                    <div class="option" onclick="selectOption(${index}, '${option}')">
                        ${option}
                    </div>
                `;
            });
            questionOptions.innerHTML = optionsHTML;
            
            // Update navigation buttons
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            
            prevBtn.style.display = currentQuestionIndex > 0 ? 'block' : 'none';
            nextBtn.textContent = currentQuestionIndex === assessmentData.length - 1 ? 'See My Results ‚Üí' : 'Next ‚Üí';
            nextBtn.disabled = true;
            
            // Restore previous answer if exists
            if (assessmentAnswers[currentQuestionIndex] !== undefined) {
                const options = document.querySelectorAll('.option');
                options[assessmentAnswers[currentQuestionIndex]].classList.add('selected');
                nextBtn.disabled = false;
            }
        }

        function selectOption(index, value) {
            // Remove previous selections
            document.querySelectorAll('.option').forEach(opt => opt.classList.remove('selected'));
            
            // Add selection to clicked option
            const options = document.querySelectorAll('.option');
            options[index].classList.add('selected');
            
            // Store answer
            assessmentAnswers[currentQuestionIndex] = index;
            
            // Enable next button
            const nextBtn = document.getElementById('nextBtn');
            nextBtn.disabled = false;
        }

        function nextQuestion() {
            if (assessmentAnswers[currentQuestionIndex] === undefined) {
                alert('Please select an answer before continuing.');
                return;
            }
            
            if (currentQuestionIndex < assessmentData.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
            } else {
                // Assessment completed, show contact form
                showContactForm();
            }
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                displayQuestion();
            }
        }

        function showContactForm() {
            document.getElementById('progressSection').style.display = 'none';
            document.getElementById('questionContainer').style.display = 'none';
            document.getElementById('navigationSection').style.display = 'none';
            document.getElementById('contactFormContainer').style.display = 'block';
            
            // Update navigation for contact form
            const navSection = document.getElementById('navigationSection');
            navSection.style.display = 'flex';
            
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            
            prevBtn.style.display = 'block';
            prevBtn.onclick = function() {
                document.getElementById('contactFormContainer').style.display = 'none';
                document.getElementById('questionContainer').style.display = 'block';
                document.getElementById('progressSection').style.display = 'block';
                currentQuestionIndex = assessmentData.length - 1;
                displayQuestion();
            };
            
            nextBtn.textContent = 'Send Verification Code ‚Üí';
            nextBtn.disabled = true;
            nextBtn.onclick = sendVerificationCode;
            
            // Validate form fields
            const form = document.getElementById('contactForm');
            const inputs = form.querySelectorAll('input[required]');
            
            inputs.forEach(input => {
                input.addEventListener('input', validateContactForm);
            });
            
            document.getElementById('contactFormContainer').scrollIntoView({ 
                behavior: 'smooth',
                block: 'start'
            });
        }

        function validateContactForm() {
            const firstName = document.getElementById('firstName').value.trim();
            const lastName = document.getElementById('lastName').value.trim();
            const email = document.getElementById('email').value.trim();
            const phone = document.getElementById('phone').value.trim();
            
            const nextBtn = document.getElementById('nextBtn');
            
            if (firstName && lastName && email && phone && email.includes('@') && phone.length >= 10) {
                nextBtn.disabled = false;
            } else {
                nextBtn.disabled = true;
            }
        }

        function sendVerificationCode() {
            const firstName = document.getElementById('firstName').value.trim();
            const lastName = document.getElementById('lastName').value.trim();
            const email = document.getElementById('email').value.trim();
            const phone = document.getElementById('phone').value.trim();
            
            if (!firstName || !lastName || !email || !phone) {
                alert('Please fill in all fields');
                return;
            }
            
            // Store contact info
            userContact = { firstName, lastName, email, phone };
            
            // Generate verification code (in real implementation, this would be sent via SMS service)
            verificationCode = Math.floor(100000 + Math.random() * 900000).toString();
            
            // For demo purposes, log the code (in production, this would be sent via SMS)
            console.log('Verification code:', verificationCode);
            
            // Show SMS verification
            showSMSVerification();
        }

        function showSMSVerification() {
            document.getElementById('contactFormContainer').style.display = 'none';
            document.getElementById('smsVerificationContainer').style.display = 'block';
            
            // Format phone number for display
            const phone = userContact.phone;
            const formatted = phone.replace(/(\d{3})(\d{3})(\d{4})/, '($1) $2-$3');
            document.getElementById('phoneDisplay').textContent = formatted;
            
            // Update navigation
            const nextBtn = document.getElementById('nextBtn');
            nextBtn.textContent = 'Verify & Continue ‚Üí';
            nextBtn.disabled = true;
            nextBtn.onclick = verifyCode;
            
            // Handle SMS code input
            const smsInput = document.getElementById('smsCode');
            smsInput.addEventListener('input', function(e) {
                const code = e.target.value.replace(/\D/g, ''); // Remove non-digits
                e.target.value = code;
                
                if (code.length === 6) {
                    nextBtn.disabled = false;
                } else {
                    nextBtn.disabled = true;
                }
            });
            
            // Handle resend code
            document.getElementById('resendCode').onclick = function() {
                verificationCode = Math.floor(100000 + Math.random() * 900000).toString();
                console.log('New verification code:', verificationCode);
                
                const button = this;
                button.textContent = 'Code sent!';
                button.disabled = true;
                
                setTimeout(() => {
                    button.textContent = 'Didn\'t receive code? Resend';
                    button.disabled = false;
                }, 3000);
            };
            
            document.getElementById('smsVerificationContainer').scrollIntoView({ 
                behavior: 'smooth',
                block: 'start'
            });
        }

        function verifyCode() {
            const enteredCode = document.getElementById('smsCode').value;
            const errorDiv = document.getElementById('smsError');
            
            if (enteredCode === verificationCode) {
                isVerified = true;
                errorDiv.style.display = 'none';
                showResults();
            } else {
                errorDiv.textContent = 'Invalid code. Please try again.';
                errorDiv.style.display = 'block';
                document.getElementById('smsCode').value = '';
                document.getElementById('nextBtn').disabled = true;
            }
        }

        function showResults() {
            document.getElementById('smsVerificationContainer').style.display = 'none';
            document.getElementById('navigationSection').style.display = 'none';
            document.getElementById('resultsContainer').style.display = 'block';
            
            // Personalize results with user name
            const userNameDisplay = document.getElementById('userNameDisplay');
            userNameDisplay.textContent = `${userContact.firstName}`;
            
            const verifiedPhone = document.getElementById('verifiedPhone');
            const formatted = userContact.phone.replace(/(\d{3})(\d{3})(\d{4})/, '($1) $2-$3');
            verifiedPhone.textContent = formatted;
            
            // Submit lead data (in production, send to your backend/CRM)
            submitLead();
            
            // Scroll to results
            document.getElementById('resultsContainer').scrollIntoView({ 
                behavior: 'smooth',
                block: 'start'
            });
            
            // Calculate recommendations based on answers
            calculateRecommendations();
        }

        function submitLead() {
            const leadData = {
                timestamp: new Date().toISOString(),
                contact: userContact,
                answers: assessmentAnswers,
                assessmentData: assessmentData,
                verified: isVerified
            };
            
            // In production, send this to your backend/CRM
            console.log('Lead submitted:', leadData);
            
            // You could also send to Netlify Forms, Zapier, or your CRM here
            // Example: 
            // fetch('/api/submit-lead', {
            //     method: 'POST',
            //     headers: { 'Content-Type': 'application/json' },
            //     body: JSON.stringify(leadData)
            // });
        }

        function calculateRecommendations() {
            const ageAnswer = assessmentAnswers[0];
            const coverageAnswer = assessmentAnswers[2];
            
            let recommendedAmount = '$25,000';
            let estimatedCost = '$45/month';
            
            // Adjust based on coverage preference
            if (coverageAnswer === 0) { // $5,000 - $10,000
                recommendedAmount = '$10,000';
                estimatedCost = '$25/month';
            } else if (coverageAnswer === 1) { // $10,000 - $25,000
                recommendedAmount = '$20,000';
                estimatedCost = '$35/month';
            } else if (coverageAnswer === 2) { // $25,000 - $50,000
                recommendedAmount = '$35,000';
                estimatedCost = '$55/month';
            } else if (coverageAnswer === 3) { // More than $50,000
                recommendedAmount = '$50,000';
                estimatedCost = '$75/month';
            }
            
            document.getElementById('recommendedAmount').textContent = recommendedAmount;
            document.getElementById('estimatedCost').textContent = `Starting at ${estimatedCost}`;
        }

        // Initialize mobile menu functionality
        document.addEventListener('DOMContentLoaded', function() {
            const hamburger = document.querySelector('.hamburger');
            const navMenu = document.querySelector('.nav-menu');
            
            if (hamburger && navMenu) {
                hamburger.addEventListener('click', function() {
                    hamburger.classList.toggle('active');
                    navMenu.classList.toggle('active');
                });

                document.querySelectorAll('.nav-link').forEach(n => n.addEventListener('click', () => {
                    hamburger.classList.remove('active');
                    navMenu.classList.remove('active');
                }));
            }
        });
    </script>
</body>
</html>